(function(a,b,c){'use strict';var d={hash:!0},e=function(c){return this.core=a(c).data('lightGallery'),this.core.s=a.extend({},d,this.core.s),this.core.s.hash&&(this.oldHash=b.location.hash,this.init()),this};e.prototype.init=function(){var c,d=this;d.core.$el.on('onAfterSlide.lg.tm',function(a,c,e){b.location.hash='lg='+d.core.s.galleryId+'&slide='+e}),a(b).on('hashchange',function(){c=b.location.hash;var a=parseInt(c.split('&slide=')[1],10);-1<c.indexOf('lg='+d.core.s.galleryId)?d.core.slide(a):d.core.lGalleryOn&&d.core.destroy()})},e.prototype.destroy=function(){this.core.s.hash&&(this.oldHash&&0>this.oldHash.indexOf('lg='+this.core.s.galleryId)?b.location.hash=this.oldHash:history.pushState?history.pushState('',c.title,b.location.pathname+b.location.search):b.location.hash='')},a.fn.lightGallery.modules.hash=e})(jQuery,window,document);